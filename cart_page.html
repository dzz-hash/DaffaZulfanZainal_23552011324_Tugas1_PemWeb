<!doctype html>
<html lang="id">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Your Cart - DEEHIDE</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome (WAJIB untuk user icon) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Style -->
  <link rel="stylesheet" href="style.css">

  <!-- Scripts -->
  <script src="theme-toggle.js" defer></script>
  <script src="animation.js" defer></script>

  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body class="dark-mode">

<!-- ======================= WAJIB LOGIN ======================= -->
<script>
  if (!localStorage.getItem("vt-current")) {
    window.location.href = "login.html";
  }
</script>

<!-- ======================= NAVBAR ======================= -->
<nav class="navbar navbar-expand-lg navbar-dark px-4 shadow-sm">
  <a class="navbar-brand d-flex align-items-center" href="home_page.html">
    <img src="images/logo2.png" class="me-2" style="width:45px;">
    <span class="brand-title fw-bold">DEEHIDE</span>
  </a>

  <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navMenu">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navMenu">
    <ul class="navbar-nav ms-auto">

      <!-- Bebas -->
      <li class="nav-item"><a href="home_page.html" class="nav-link">Home</a></li>
      <li class="nav-item"><a href="about_brand.html" class="nav-link">About</a></li>

      <!-- Wajib login -->
      <li class="nav-item"><a class="nav-link nav-protect" data-link="shop_page.html">Shop</a></li>
      <li class="nav-item"><a class="nav-link active nav-protect" data-link="cart_page.html">Cart</a></li>
    </ul>

    <div class="d-flex align-items-center ms-4">

      <!-- Theme Switch -->
      <div class="form-check form-switch me-3">
        <input class="form-check-input" type="checkbox" id="themeToggle">
      </div>

      <!-- LOGIN BUTTON -->
      <a id="navLoginBtn" href="login.html" class="btn btn-outline-light">Masuk</a>

      <!-- USER ICON -->
      <a id="navUserIcon" href="dashboard_page.html" 
         class="d-none text-white ms-3" style="font-size:22px;">
         <i class="fa-solid fa-circle-user"></i>
      </a>
    </div>

  </div>
</nav>

<!-- ======================= LOGIN PROTECTION ======================= -->
<script>
document.addEventListener("DOMContentLoaded", () => {

  const user = localStorage.getItem("vt-current");

  // Tampilkan ikon user bila login
  if (user) {
    navLoginBtn.classList.add("d-none");
    navUserIcon.classList.remove("d-none");
  }

  // Proteksi semua menu nav-protect
  const links = document.querySelectorAll(".nav-protect");
  links.forEach(link => {
    link.addEventListener("click", (e) => {
      e.preventDefault();

      if (!user) {
        Swal.fire({
          icon: "warning",
          title: "Login Diperlukan",
          text: "Silakan login untuk mengakses fitur ini.",
          confirmButtonColor: "#d33",
          confirmButtonText: "Login Sekarang"
        }).then(r => {
          if (r.isConfirmed) window.location.href = "login.html";
        });

      } else {
        window.location.href = link.dataset.link;
      }
    });
  });

});
</script>

<!-- ======================= MARQUEE ======================= -->
<div class="marquee">
  <span>⚡ YOUR CART • DEEHIDE PREMIUM STREETWEAR ⚡</span>
</div>


<!-- ======================= CART CONTENT ======================= -->
<div class="container py-5" data-fade>

  <h2 class="fw-bold mb-4">Keranjang Belanja</h2>

  <!-- CART TABLE -->
  <div class="table-responsive rounded shadow-lg overflow-hidden">
    <table class="table align-middle table-dark table-striped mb-0">
      <thead>
        <tr>
          <th>Produk</th>
          <th>Harga</th>
          <th>Jumlah</th>
          <th>Total</th>
          <th>Aksi</th>
        </tr>
      </thead>

      <tbody>

        <!-- ITEM 1 -->
        <tr>
          <td>
            <div class="d-flex align-items-center">
              <img src="images/V-TSHIRT 01.png" width="80" class="me-3 rounded">
              Visual Type Black (L)
            </div>
          </td>
          <td>Rp 185.000</td>
          <td><input type="number" class="form-control w-50" min="1" value="1"></td>
          <td>Rp 185.000</td>
          <td><button class="btn btn-danger btn-sm">Hapus</button></td>
        </tr>

        <!-- ITEM 2 -->
        <tr>
          <td>
            <div class="d-flex align-items-center">
              <img src="images/V-TSHIRT 02.png" width="80" class="me-3 rounded">
              White Storm (XL)
            </div>
          </td>
          <td>Rp 185.000</td>
          <td><input type="number" class="form-control w-50" min="1" value="2"></td>
          <td>Rp 370.000</td>
          <td><button class="btn btn-danger btn-sm">Hapus</button></td>
        </tr>

      </tbody>
    </table>
  </div>

  <!-- SUMMARY -->
  <div class="row mt-4" data-fade>
    <div class="col-lg-4 ms-auto">
      <div class="p-4 rounded shadow-lg summary-box">

        <h4 class="fw-bold">Ringkasan Belanja</h4>

        <div class="d-flex justify-content-between mt-3">
          <span>Subtotal:</span>
          <strong>Rp 555.000</strong>
        </div>

        <div class="d-flex justify-content-between mt-2">
          <span>Ongkir:</span>
          <strong>Rp 20.000</strong>
        </div>

        <hr>

        <div class="d-flex justify-content-between">
          <span>Total:</span>
          <h4 class="text-danger">Rp 575.000</h4>
        </div>

        <!-- CHECKOUT -->
        <a id="checkoutBtn" 
           href="checkout_page.html" 
           class="btn btn-primary w-100 mt-3 fw-bold nav-protect"
           data-link="checkout_page.html">
          Checkout
        </a>

      </div>
    </div>
  </div>

</div>


<!-- ======================= MARQUEE BOTTOM ======================= -->
<div class="marquee">
  <span>⚡ YOUR FASHION IS YOUR IDENTITY ⚡</span>
</div>


<!-- FOOTER -->
<footer class="site-footer text-center">
  <img src="images/logo2.png" height="80" class="mb-3">
  <p class="footer-copy">23552011324_DAFFA ZULFAN ZAINAL_TIF RP 23 CNS B</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<style>
  .summary-box { background: var(--card); }
</style>

</body>
</html>
